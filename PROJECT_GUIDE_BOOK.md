# ๐ ูุชุงุจ: ุงููุฑุฌุน ุงูุดุงูู ูุจูุงุก ููุตุฉ ุงูุฌูุนูุฉ ุงูุนูููุฉ (CSA Portal)

ูุฐุง ุงูุฏููู ูู ูุฑุฌุนู ุงูุชููู ุงููุงูู ูุจูุงุก ุชุทุจูู "CSA Portal" ูู ุงูุตูุฑ ุญุชู ูุฑุญูุฉ ุงูุฅูุชุงุฌ.
ุชู ุฅุนุฏุงุฏ ูุฐุง ุงููุฑุฌุน ููุดุฑุญ ูู ูููุ ูู ุชูููุฉุ ููู ุณุทุฑ ููุฏ ุฌููุฑูุ ุจุฃุณููุจ ุชุนูููู ููุตู.

---

## ๐ ุงูููุฑุณ
1.  **ูููููุฉ ุงููุดุฑูุน (Project Architecture)**
2.  **ูููุงุช ุงูุชูููู (Configuration Files)**
    -   package.json
    -   tsconfig.json
    -   vite.config.ts
    -   tailwind.config.js
3.  **ุงูุฎูููุฉ (Backend) - ุดุฑุญ ุชูุตููู**
    -   Database Schema (Prisma)
    -   Server Entry (index.ts)
    -   Authentication & Security
    -   File Upload System
4.  **ุงููุงุฌูุฉ (Frontend) - ุดุฑุญ ุชูุตููู**
    -   Routing (App.tsx)
    -   API Service (services/api.ts)
    -   Reusable Components
    -   Pages Logic
5.  **ุงููุดุฑ (Deployment)**

---

## ๐ ุงููุตู ุงูุฃูู: ูููููุฉ ุงููุดุฑูุน

ุงููุดุฑูุน ูุจูู ุจูุธุงู **Monorepo** (ูุณุชูุฏุน ูุงุญุฏ) ูุฌูุน ุจูู ุงููุงุฌูุฉ ูุงูุฎูููุฉ ูุณูููุฉ ุงูุชุทููุฑ.

```text
/
โโโ .env                # ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ (ุฃุณุฑุงุฑ ุงููุดุฑูุน)
โโโ package.json        # ูุฏูุฑ ุงูุญุฒู ูุงูุณูุฑุจุชุงุช
โโโ server/             # ูุฌูุฏ ุงูุฎุงุฏู (Backend)
โ   โโโ prisma/         # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โ   โโโ schema.prisma   # ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โ   โโโ dev.db          # ููู ูุงุนุฏุฉ ุงูุจูุงูุงุช (SQLite)
โ   โโโ src/            # ููุฏ ุงูุฎุงุฏู
โ   โ   โโโ index.ts        # ุงููุฏุฎู ุงูุฑุฆูุณู ููุณูุฑูุฑ
โ   โโโ uploads/        # ูุฌูุฏ ุชุฎุฒูู ุงูุตูุฑ ุงููุฑููุนุฉ
โโโ src/                # ููุฏ ุงููุงุฌูุฉ (Frontend)
โ   โโโ components/     # ุงูููููุงุช ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู (Navbar, Footer...)
โ   โโโ pages/          # ุตูุญุงุช ุงููููุน (Home, Events, Admin...)
โ   โโโ services/       # ุฏูุงู ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ (api.ts)
โ   โโโ types.ts        # ุชุนุฑููุงุช ุงูุฃููุงุน (TypeScript Interfaces)
โ   โโโ index.css       # ุชูุณููุงุช CSS ุงูุนุงูุฉ
โโโ public/             # ุงููููุงุช ุงูุนุงูุฉ (ุงูุตูุฑ ุงูุซุงุจุชุฉุ ุงูุฃููููุงุช)
โโโ dist/               # ุงููุฌูุฏ ุงูููุงุฆู ุจุนุฏ ุงูุจูุงุก (Build Output)
```

---

## โ๏ธ ุงููุตู ุงูุซุงูู: ูููุงุช ุงูุชูููู (Configuration)

### 1. `package.json`
ูุฐุง ุงูููู ูู "ุจุทุงูุฉ ูููุฉ" ุงููุดุฑูุน.

```json
{
  "name": "csa-portal",
  "scripts": {
    "dev": "vite",                   // ุชุดุบูู ูุถุน ุงูุชุทููุฑ (Frontend)
    "build": "vite build",           // ุจูุงุก ุงููุงุฌูุฉ ููุฅูุชุงุฌ (ุชุญููููุง ูู HTML/JS)
    "start": "ts-node server/src/index.ts", // ุชุดุบูู ุงูุณูุฑูุฑ ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
    "server": "ts-node server/src/index.ts" // ุชุดุบูู ุงูุณูุฑูุฑ ุฃุซูุงุก ุงูุชุทููุฑ
  },
  "dependencies": {
    "react": "^18.2.0",              // ููุชุจุฉ ุงููุงุฌูุฉ
    "express": "^4.18.2",            // ุฅุทุงุฑ ุนูู ุงูุฎุงุฏู
    "@prisma/client": "^5.x",        // ุงูุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
    "multer": "^1.4.5",              // ููุชุจุฉ ุฑูุน ุงููููุงุช
    "bcrypt": "^5.1.1",              // ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
    "jsonwebtoken": "^9.0.2"         // ุฅูุดุงุก ุชูููุงุช ุงูุฏุฎูู (JWT)
  }
}
```

### 2. `tailwind.config.js` (ููุฌูุฏ ุฏุงุฎู index.html ุฃู ููู ูููุตู)
ูุญุฏุฏ ุฃููุงู ุงููููุน ูุงูุฎุทูุท. ูููุง ุจุชุนุฑูู ุฃููุงู "Brand" ุฎุงุตุฉ ุจุงูุฌูุนูุฉ:
```javascript
colors: {
  brand: {
    500: '#0ea5e9', // ุงูููู ุงูุฑุฆูุณู (ุฃุฒุฑู ุณูุงูู)
    600: '#0284c7', // ููู ุฃุบูู ุนูุฏ ุงูุชุญููู (Hover)
    // ...
  }
}
```

---

## ๐ ุงููุตู ุงูุซุงูุซ: ุงูุฎูููุฉ (Backend) - ุงูููุจ ุงููุงุจุถ

ุงูุฎุงุฏู ูุจูู ุจุงุณุชุฎุฏุงู **Node.js** ู **Express**.

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช (`server/prisma/schema.prisma`)
ูุฐุง ุงูููู ูุตู ุดูู ุงูุจูุงูุงุช. ููุฃุฎุฐ ุฌุฏูู "ุงูุฃุฎุจุงุฑ" ููุซุงู:

```prisma
model News {
  id        String   @id @default(uuid())  // ุงููุนุฑู: ูุต ุนุดูุงุฆู ูุฑูุฏ
  title     String                         // ุนููุงู ุงูุฎุจุฑ
  content   String                         // ุชูุงุตูู ุงูุฎุจุฑ
  image     String?                        // ุฑุงุจุท ุงูุตูุฑุฉ (ุนูุงูุฉ ? ุชุนูู ุฃููุง ุงุฎุชูุงุฑูุฉ)
  tags      String?                        // ุงูุชุตูููุงุช (ูุฎุฒููุง ููุต JSON)
  createdAt DateTime @default(now())       // ุชุงุฑูุฎ ุงูุฅูุดุงุก (ุชููุงุฆู)
}
```
**ููุงุฐุง UUIDุ** ุงูุฃุฑูุงู ุงููุชุณูุณูุฉ (1, 2, 3) ูุณูู ุชุฎููููุง ูุงุฎุชุฑุงููุง. ุงูู UUID (ูุซู `a1b2-c3d4...`) ูุณุชุญูู ุงูุชุฎููู.

### 2. ุงูุณูุฑูุฑ ุงูุฑุฆูุณู (`server/src/index.ts`)
ููุญูู ุงูุฃุณุทุฑ ุงูุฃูู:

**ุฅุนุฏุงุฏ ุงูุฃูุงู (Middleware):**
```typescript
app.use(cors());   // ูุณูุญ ูููุงุฌูุฉ (Port 5173) ุจุทูุจ ุจูุงูุงุช ูู ุงูุฎุงุฏู (Port 3001)
app.use(helmet()); // ูุถูู ุชุฑููุณุงุช ุฃูุงู HTTP ูููุน ูุฌูุงุช XSS ูุบูุฑูุง
app.use(express.json()); // ูุณูุญ ููุณูุฑูุฑ ุจูุฑุงุกุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ ุจุตูุบุฉ JSON
```

**ูุธุงู ุฑูุน ุงูุตูุฑ (Multer):**
```typescript
// ุชุญุฏูุฏ ููุงู ุงูุญูุธ
const storage = multer.diskStorage({
    destination: (req, file, cb) => cb(null, 'server/uploads/'),
    filename: (req, file, cb) => {
        // ูุบูุฑ ุงุณู ุงูููู ููููู ูุฑูุฏุงู (ุงูููุช ุงูุญุงูู + ุฑูู ุนุดูุงุฆู)
        const uniqueName = Date.now() + '-' + Math.round(Math.random() * 1E9);
        cb(null, uniqueName + path.extname(file.originalname));
    }
});
const upload = multer({ storage });
```
**ููุงุฐุง ูุบูุฑ ุงูุงุณูุ** ูู ูุงู ุดุฎุตุงู ุจุฑูุน ุตูุฑุฉ ุจููุณ ุงูุงุณู (image.jpg)ุ ุงูุซุงููุฉ ุณุชูุณุญ ุงูุฃููู. ุชุบููุฑ ุงูุงุณู ูููุน ุฐูู.

**ููุทุฉ ููุงูุฉ ุงูุฑูุน (Upload Endpoint):**
```typescript
app.post('/api/upload', verifyAnyAuth, upload.single('file'), (req, res) => {
    // ุจุนุฏ ุฃู ูุฑูุน Multer ุงููููุ ูุนูุฏ ุงูุฑุงุจุท ูููุณุชุฎุฏู
    res.json({ url: `http://localhost:3001/uploads/${req.file.filename}` });
});
```
`verifyAnyAuth`: ุฏุงูุฉ ุชุชุฃูุฏ ุฃู ุงููุณุชุฎุฏู "ูุณุคูู" ุฃู "ุนููุฏ" ูุจู ุงูุณูุงุญ ูู ุจุงูุฑูุน.

**ุฎุฏูุฉ ุงููููุงุช ุงูุซุงุจุชุฉ (Static Files):**
```typescript
// ุฌุนู ูุฌูุฏ uploads ุนุงูุงู ูููุตูู ุนุจุฑ ุงูุฑุงุจุท
app.use('/uploads', express.static(path.join(__dirname, '../uploads')));

// ูู ุงูุฅูุชุงุฌ: ุฎุฏูุฉ ูููุงุช ุงููุงุฌูุฉ (React Build)
app.use(express.static(path.join(__dirname, '../../dist')));
```

---

## ๐จ ุงููุตู ุงูุฑุงุจุน: ุงููุงุฌูุฉ (Frontend)

ุงููุงุฌูุฉ ูู ูุง ูุฑุงู ุงููุณุชุฎุฏู.

### 1. ุฎุฏูุฉ ุงูุงุชุตุงู (`services/api.ts`)
ูุฐุง ุงูููู ูู "ุงููุณุท" ุงูุฐู ูุชุญุฏุซ ูุน ุงูุณูุฑูุฑ. ุจุฏูุงู ูู ูุชุงุจุฉ `fetch` ูู ูู ููุงูุ ููุชุจูุง ููุง ูุฑุฉ ูุงุญุฏุฉ.

```typescript
export const api = {
    // ุฅุฏุงุฑุฉ ุงููุญุชูู
    manage: {
        // ุฏุงูุฉ ูุฑูุน ููู
        uploadFile: async (file: File) => {
            const formData = new FormData();
            formData.append('file', file);
            // ูุณุชุฎุฏู fetch ูุฃููุง ูุฑุณู ููู ูููุณ JSON
            const res = await fetch(`${API_URL}/upload`, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${getToken()}` }, // ุฅุฑุณุงู ููุชุงุญ ุงูุฏุฎูู
                body: formData
            });
            return res.json();
        },
        
        // ุฏุงูุฉ ุฅูุดุงุก ุฎุจุฑ
        createNews: async (newsData) => {
            // ููุง ูุณุชุฎุฏู ุฏุงูุฉ ูุณุงุนุฏุฉ (request) ุชุฑุณู ุงูุจูุงูุงุช ูู JSON
            return request('/news', 'POST', newsData);
        }
    }
}
```

### 2. ุตูุญุฉ ููุญุฉ ุงูุชุญูู (`pages/Admin.tsx`)
ูุฐู ุงูุตูุญุฉ "ุงูุฏููุงููููุฉ" ุงูุฃูุจุฑ ูู ุงููุดุฑูุน.

**ููู ุชุนููุ**
1.  **State (ุงูุญุงูุฉ):** ูุฎุฒู ุงูุฃุฎุจุงุฑ ูุงููุนุงููุงุช ูุงูุฃุนุถุงุก ูู `useState`.
2.  **useEffect:** ุนูุฏ ูุชุญ ุงูุตูุญุฉุ ูุฌูุจ ุงูุจูุงูุงุช ูู `api.manage`.
3.  **Tabs:** ูุณุชุฎุฏู ูุชุบูุฑ `activeTab` ูุชุจุฏูู ุงูุนุฑุถ ุจูู (News, Events, Team).

**ูุซุงู ุนูู ุฑูุน ุงูุตูุฑุฉ ูู ุงููุญุฑุฑ:**
```typescript
const handleFileChange = async (e) => {
    const file = e.target.files[0];
    if (file) {
        setUploading(true); // ุฅุธูุงุฑ ูุคุดุฑ ุงูุชุญููู
        try {
            const response = await api.manage.uploadFile(file);
            // ุจูุฌุฑุฏ ุงูุฑูุนุ ูุญุตู ุนูู ุงูุฑุงุจุท ููุถุนู ูู ุงููููุฐุฌ
            setEditingItem({ ...editingItem, image: response.url });
        } catch (err) {
            alert('ูุดู ุงูุฑูุน!');
        } finally {
            setUploading(false); // ุฅุฎูุงุก ุงููุคุดุฑ
        }
    }
};
```

---

## ๐ ุงููุตู ุงูุฎุงูุณ: ุงููุดุฑ (Deployment)

ููู ูุทูู ุงููููุน ููุนุงููุ

### Docker (ุงูุญุงููุฉ ุงูุณุญุฑูุฉ)
ููุฏ ุฃูุดุฃูุง ููู `Dockerfile` ูุฌูุน ูู ุงููุทุน ูุนุงู.

**ุดุฑุญ ุงูุฃูุงูุฑ ูู Dockerfile:**
1.  `FROM node:20-slim`: ุงุณุชุฎุฏู ูุณุฎุฉ ุฎูููุฉ ูู Node.js.
2.  `COPY package*.json ./`: ุงูุณุฎ ูููุงุช ุงูุชุจุนูุงุช.
3.  `RUN npm ci`: ุซุจุช ุงูููุชุจุงุช.
4.  `COPY . .`: ุงูุณุฎ ููุฏ ุงููุดุฑูุน ุจุงููุงูู.
5.  `RUN npx prisma generate`: ุฌูุฒ ูุงุนุฏุฉ ุงูุจูุงูุงุช.
6.  `RUN npm run build`: ุญูู ููุฏ React ุฅูู HTML/CSS/JS ุฌุงูุฒ.
7.  `CMD ["npm", "start"]`: ุดุบูู ุงูุณูุฑูุฑ.

ุนูุฏ ุงูุชุดุบููุ ุงูุณูุฑูุฑ ุณูููู ุจู:
1.  ุฎุฏูุฉ ุงูู API ุนูู `/api`.
2.  ุฎุฏูุฉ ุงูุตูุฑ ุงููุฑููุนุฉ ุนูู `/uploads`.
3.  ุฃู ุทูุจ ุขุฎุฑ (ูุซู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ `/`) ุณูููู ุจุชุญูููู ุฅูู ููู `index.html` ูู ูุฌูุฏ `dist` (ุงูุฐู ุจูููุงู ูู ุงูุฎุทูุฉ 6).

ุจูุฐุง ูุตุจุญ ูุฏูู "ุชุทุจูู ูุงุญุฏ" (Server + Frontend) ุฐุงุชู ุงูุชุดุบููุ ุฌุงูุฒ ููุนูู ุนูู ุฃู ุงุณุชุถุงูุฉ ูู ุงูุนุงูู.

---

## ๐ ุงูุฎุงุชูุฉ
ุฃูุช ุงูุขู ุชูุชูู ูุธุงูุงู ูุชูุงููุงู:
-   **Frontend:** ุณุฑูุนุ ูุชุฌุงูุจุ ูุฏุงุนู ููุบุฉ ุงูุนุฑุจูุฉ.
-   **Backend:** ุขููุ ููุฏุนู ุฑูุน ุงููููุงุช ุงูุญูููู.
-   **Database:** ูุญููุธุฉ ูุญููุงู ูุณููุฉ ุงูููู.
-   **DevOps:** ุฌุงูุฒ ูููุดุฑ ุนุจุฑ Docker.

ูุฐุง ุงููุดุฑูุน ูู ุงูุฃุณุงุณ ุงููุชูู ูุฃู ููุตุฉ ุฅุฏุงุฑุฉ ูุญุชูู ุชุฑูุฏ ุจูุงุกูุง ูุณุชูุจูุงู.

---

# ๐ ุงูููุญู: ุงูุดุฑุญ ุงูุนููู (ุณุทุฑ ุจุณุทุฑ)

ุจูุงุกู ุนูู ุทูุจูุ ูุฐุง ุงููุณู ูุดุฑุญ ุงููููุงุช ุงูุฌููุฑูุฉ ุณุทุฑุงู ุจุณุทุฑ ูุชุชููู ูู ุฅุฌุงุจุฉ ุฃู ุณุคุงู ุนููุง.

## 1. ุดุฑุญ ููู ุงูุณูุฑูุฑ (`server/src/index.ts`)

ูุฐุง ุงูููู ูู "ุนูู" ุงููุธุงู. ูููุณูู ุฅูู ูุชู ููุทููุฉ:

### ๐ฅ ุงูุงุณุชูุฑุงุฏุงุช (Imports) - ุงูุฃุณุทุฑ 1-14
```typescript
import express from 'express'; // ุฅุทุงุฑ ุงูุนูู ุงูุฃุณุงุณู
import cors from 'cors';       // ููุณูุงุญ ูููุชุตูุญ ุจุทูุจ ุงูุจูุงูุงุช ูู ุฏูููู ูุฎุชูู
import helmet from 'helmet';   // ูุฅุถุงูุฉ ุชุฑููุณุงุช ุฃูุงู (Security Headers)
import { PrismaClient } from '@prisma/client'; // ููุชุญุฏุซ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
import multer from 'multer';   // ูุฑูุน ุงููููุงุช
```

### โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงูุฃูููุฉ - ุงูุฃุณุทุฑ 16-27
```typescript
dotenv.config(...); // ุชุญููู ุฃุณุฑุงุฑ ุงููุดุฑูุน (ูุซู ูููุฉ ุณุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช) ูู ููู .env
const app = express(); // ุฅูุดุงุก ูุณุฎุฉ ูู ุชุทุจูู Express
const prisma = new PrismaClient(); // ุฅูุดุงุก ุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
const PORT = process.env.PORT || 3001; // ุชุญุฏูุฏ ุงููููุฐ (3001)
```

### ๐ก ุงูุจุฑูุฌูุงุช ุงููุณูุทุฉ (Middleware) - ุงูุฃุณุทุฑ 29-33
```typescript
app.use(cors()); // ุงูุณูุงุญ ุจุงููุตูู ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
app.use(helmet(...)); // ุชูุนูู ุงูุญูุงูุฉ
app.use(express.json({ limit: '10mb' })); // ุงูุณูุงุญ ุจุงุณุชูุจุงู ุจูุงูุงุช JSON ุจุญุฏ ุฃูุตู 10 ููุฌุง
```
*   **ุณุคุงู ูุชููุน:** ููุงุฐุง `express.json`ุ
*   **ุงูุฅุฌุงุจุฉ:** ุจุฏูููุ ูู ูููู ุงูุณูุฑูุฑ ุงูุจูุงูุงุช ุงูุชู ุชุฑุณููุง ูู `body` ุงูุทูุจ.

### ๐ธ ุฅุนุฏุงุฏ ุฑูุน ุงููููุงุช - ุงูุฃุณุทุฑ 35-62
ูุณุชุฎุฏู ููุชุจุฉ `multer` ูุชุฎุฒูู ุงููููุงุช ุนูู ุงููุฑุต (Disk Storage).
*   `destination`: ูุญุฏุฏ ุงููุฌูุฏ `server/uploads`.
*   `filename`: ูุบูุฑ ุงุณู ุงูููู ุฅูู (ุงูููุช ุงูุญุงูู + ุฑูู ุนุดูุงุฆู) ูููุน ุชุถุงุฑุจ ุงูุฃุณูุงุก.
*   `fileFilter`: ูุณูุญ ููุท ุจุงูุตูุฑ ูุงูููุฏูููุงุช.

### ๐ ุงูุชุญูู ูู ุงููููุฉ (Authentication) - ุงูุฃุณุทุฑ 68-118
ุฏุงูุชุงู ูููุชุงู ุฌุฏุงู:
1.  `verifyDeanToken`: ุชุชุฃูุฏ ุฃู ุงูุทุงูุจ ูู "ุงูุนููุฏ".
2.  `verifyAdminToken`: ุชุชุฃูุฏ ุฃู ุงูุทุงูุจ ูู "ูุณุคูู" (ุนุถู ูุฌูุฉ).
**ุขููุฉ ุงูุนูู:**
-   ููุฑุฃ ุงูู Header ุงููุณูู `Authorization`.
-   ูุชุฃูุฏ ุฃูู ูุจุฏุฃ ุจูููุฉ `Bearer`.
-   ูุณุชุฎุฏู `jwt.verify` ููู ุชุดููุฑ ุงูุชููู.
-   ุฅุฐุง ูุงู ุงูุชููู ุตุญูุญุงูุ ูุณูุญ ููุทูุจ ุจุงููุฑูุฑ (`next()`).

### ๐ฃ ูุณุงุฑุงุช ุงูุจูุงูุงุช (Routes)
*   **ุงููุณุงุฑุงุช ุงูุนุงูุฉ (`app.get`):** ูุซู `/api/news`ุ ูููู ูุฃู ุดุฎุต ุทูุจูุง.
*   **ุงููุณุงุฑุงุช ุงููุญููุฉ (`app.post`):** ูุซู `/api/events`ุ ูุถุน ูุจููุง `verifyAnyAuth` ูููุน ุงูุบุฑุจุงุก ูู ุงูุชุนุฏูู.

### ๐ ุชุดุบูู ุงููุญุฑู - ุงูุฃุณุทุฑ 680 ููููุงูุฉ
```typescript
// ุฅุฐุง ุทูุจ ุงููุณุชุฎุฏู ุตูุญุฉ ุบูุฑ ููุฌูุฏุฉ ูู ุงูู APIุ ูุฑุณูู ูุตูุญุฉ ุงูุฎุทุฃ 404
app.use('/api/*', ...);

// ูู ุงูููุงูุฉุ ููุฏู ูููุงุช ุงููุงุฌูุฉ (React) ูููุณุชุฎุฏู
app.use(express.static(distPath));

// ุชุดุบูู ุงูุณูุฑูุฑ ูุงูุงุณุชูุงุน ูููููุฐ
app.listen(PORT, ...);
```

---

## 2. ุดุฑุญ ููู ุงูุฎุฏูุงุช (`services/api.ts`)

ูุฐุง ุงูููู ูู "ูุณุงู" ุงููุงุฌูุฉ ุงูุฃูุงููุฉ.

### ๐ ุงููุณุงุนุฏ ุงูุนุงู (`apiFetch`) - ุงูุฃุณุทุฑ 22-37
ุฏุงูุฉ ุฐููุฉ ุชุบูู `fetch` ุงูุฃุตูู.
*   ุชุถูู ุชููุงุฆูุงู `Content-Type: application/json`.
*   ุฅุฐุง ูุดู ุงูุทูุจ (ูุซูุงู 500 ุฃู 401)ุ ุชููู ุจุฑูู ุฎุทุฃ (Error) ูููููุง ุงูุชูุงุทู ูู ุงููุงุฌูุฉ ูุนุฑุถ ุฑุณุงูุฉ ูููุณุชุฎุฏู.

### ๐ ุฅุฏุงุฑุฉ ุงูุชูููุงุช - ุงูุฃุณุทุฑ 9-19
ูุฎุฒู ููุงุชูุญ ุงูุฏุฎูู ูู `localStorage` ุงููุชุตูุญ ููุจูู ุงููุณุชุฎุฏู ูุณุฌูุงู ููุฏุฎูู ุญุชู ูู ุฃุบูู ุงูุตูุญุฉ.

### ๐ฆ ูุงุฆู ุงูู API ุงูููุญุฏ
ุจุฏูุงู ูู ุงุณุชุฏุนุงุก ุงูุฑูุงุจุท ุนุดูุงุฆูุงูุ ุฌูุนูุงูุง ูู ูุงุฆู ูุงุญุฏ `api`:
*   `api.getNews()`: ูุฌูุจ ุงูุฃุฎุจุงุฑ.
*   `api.dean.login(...)`: ูุชุณุฌูู ุฏุฎูู ุงูุนููุฏ.
*   `api.manage.createEvent(...)`: ูุฅูุดุงุก ูุนุงููุฉ (ูุชุทูุจ ุชููู).

**ุฏุงูุฉ ุงูุฑูุน ุงูุฎุงุตุฉ (`uploadFile`) - ุงูุฃุณุทุฑ 228-242**
ูุฐู ุงูุฏุงูุฉ ูุฎุชููุฉ ูุฃููุง ูุง ุชุฑุณู JSON.
*   ุชูุดุฆ `FormData`.
*   ุชุถูู ุงูููู ุฅููู.
*   ุชุฑุณูู ุฅูู `/api/upload`.
*   ูุฐุง ุถุฑูุฑู ูุฃู ุงููููุงุช ุซูุงุฆูุฉ (Binary) ูููุณุช ูุตูุตุงู.

---

## 3. ุดุฑุญ ููู ุงูุฃููุงุน (`types.ts`)

ูุฐุง ุงูููู ูู "ุงููุงููุณ" ุงูุฐู ูุญุฏุฏ ุดูู ุงูุจูุงูุงุช ูู ุงููุดุฑูุน. ุงุณุชุฎุฏุงู TypeScript ูููุน ุงูุฃุฎุทุงุก ูุฃููุง ูุนุฑู ุดูู ูู ูุงุฆู ูุณุจูุงู.

### ุฃูู ุงููุงุฌูุงุช (Interfaces):
*   `NewsPost`: ูุญุฏุฏ ุดูู ุงูุฎุจุฑ (ุงูุนููุงูุ ุงููุญุชููุ ูุณูู TAGSุ ุงูุชุตููู).
    *   ูุงุญุธ `design: PostDesignConfig`: ูุฐุง ุงูุญูู ูุฎุฒู ุฅุนุฏุงุฏุงุช ุงูุชุตููู (ุงูุฃููุงูุ ุงูููุงุชุฑ) ุงูุชู ูุชุญูู ุจูุง ุงูุฃุฏูู.
*   `EventItem`: ูุญุฏุฏ ุงููุนุงููุฉ (ุงูุชุงุฑูุฎุ ุงูููุชุ ุงูุฑุงุจุท).
*   `Member`: ูุญุฏุฏ ุงูุนุถู (ุงูุงุณูุ ุงูุฏูุฑุ ุงูุตูุฑุฉ).
*   `AppSettings`: ูุญุฏุฏ ุฅุนุฏุงุฏุงุช ุงููููุน ุงูุนุงูุฉ (ุงูุงุณูุ ุงูุดุนุงุฑุ ุงูุฃููุงู).

---

## 4. ุดุฑุญ ููุญุฉ ุงูุชุญูู ุงูุดุงููุฉ (`pages/Admin.tsx`)

ูุฐุง ุฃุถุฎู ููู ูู ุงููุงุฌูุฉ (ุฃูุซุฑ ูู 1000 ุณุทุฑ). ูููุณูู:

### ๐ฎ ุงููุญุฑุฑุงุช (Editors)
ุจุฏูุงู ูู ูุถุน ูู ุดูุก ูู ุตูุญุฉ ูุงุญุฏุฉุ ูุณููุง ุงูููุฏ ูููููุงุช ุตุบูุฑุฉ ุฏุงุฎู ููุณ ุงูููู:
1.  `NewsEditor`: ูุงูุฐุฉ ููุจุซูุฉ ูุฅุถุงูุฉ/ุชุนุฏูู ุงูุฃุฎุจุงุฑ.
    *   ูุญุชูู ุนูู ุชุจููุจูู: "Details" ูููุญุชููุ ู "Studio" ููุชุตููู.
    *   ูุณุชุฎุฏู `MediaUploader` ูุฑูุน ุงูุตูุฑ.
2.  `EventEditor`: ูุฅุฏุงุฑุฉ ุงููุนุงููุงุช.
3.  `MemberEditor`: ูุฅุฏุงุฑุฉ ุงูุฃุนุถุงุก.
4.  `SettingsEditor`: ูุฅุฏุงุฑุฉ ุฃููุงู ุงููููุน ูุงููุตูุต.

### ๐ผ ูููู ุฑูุน ุงููุณุงุฆุท (`MediaUploader`)
ูุฐุง ุงููููู ุฐูู ุฌุฏุงู:
*   ุฅุฐุง ุงุฎุชุฑุช ูููุงู ูู ุฌูุงุฒูุ ูููู ุจุฑูุนู ููุณูุฑูุฑ ููุฑุงู ุนุจุฑ `api.manage.uploadFile`.
*   ูุนุฑุถ ุดุฑูุท ุชุญููู (Loading Spinner) ุฃุซูุงุก ุงูุฑูุน.
*   ูุชุนุงูู ูุน ุงูุตูุฑ ูุงูููุฏูู.
*   ูุฏุนู "ุงูุณุญุจ ูุงูุฅููุงุช" (Drag to Pan) ูุถุจุท ููุถุน ุงูุตูุฑุฉ ุฏุงุฎู ุงููุงุฑุช.

### ๐ง ููุทู "ุชุญุฏูุซ ุงูุจูุงูุงุช" (Refresh Logic)
ูู ุจุฏุงูุฉ ุงููููุ ุณุชุฌุฏ `useEffect` ูุทูุจ ุงูุจูุงูุงุช ูู ุงูุณูุฑูุฑ ุนูุฏ ุงููุชุญ.
ุนูุฏูุง ุชููู ุจุญูุธ ุฃู ุชุนุฏูู (ูุซูุงู `api.manage.createNews`)ุ ูููู ุจุงุณุชุฏุนุงุก ุฏุงูุฉ `fetchData` ูุฑุฉ ุฃุฎุฑู ูุชุญุฏูุซ ุงูุฌุฏูู ููุฑุงู ุฏูู ุนูู Refresh ููุตูุญุฉ.

---

## 5. ุดุฑุญ ุจูุงุจุฉ ุงูุนููุฏ (`pages/DeanDashboard.tsx`)

ูุฐู ุงูุตูุญุฉ ูู "ุงูุญุตู ุงููููุน".

### ๐ ุงูุชุดููุฑ ูุงูุฃูุงู
*   ุชุนุชูุฏ ุนูู `api.dean.createAccessKey` ูุชูููุฏ ููุงุชูุญ ุฏุฎูู ููุฃุนุถุงุก.
*   **ุชูููุฏ QR:** ูุณุชุฎุฏู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุฎุงุฑุฌูุฉ (`api.qrserver.com`) ูุชุญููู ููุฏ ุงูููุชุงุญ ุงููุตู ุฅูู ุตูุฑุฉ QR Code ูุงุจูุฉ ูููุณุญ.
*   **ุงููุดุงุฑูุฉ:** ูุชุญูู ูู ุงููุชุตูุญ ูุฏุนู `navigator.share` (ููููุจุงูู) ูููุชุญ ูุงุฆูุฉ ุงููุดุงุฑูุฉ ุงูุฃุตููุฉุ ูุฅูุง ููุชุญ ูุงูุฐุฉ ูุฎุตุตุฉ.

### ๐ต๏ธโโ๏ธ ูุฑุงูุจุฉ ุงูุฌูุณุงุช
ุงูุฌุฏูู ูู ุชุจููุจ "Active Sessions" ูุนุฑุถ ูู ูู ุฏุฎู ูููุธุงู.
*   ุฒุฑ **"Revoke Access" (ุณุญุจ ุงูุตูุงุญูุฉ)**: ูุฑุณู ุทูุจ `api.dean.revokeSession` ููุณูุฑูุฑุ ุงูุฐู ูููู ุจุฏูุฑู ุจููุจ ุญุงูุฉ `isActive` ุฅูู `false` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ููุง ูุทุฑุฏ ุงููุณุชุฎุฏู ููุฑุงู.

---

## 6. ุดุฑุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (`pages/Home.tsx`)

ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุชู ูุฑุงูุง ุงูุฒูุงุฑ.

### ๐ง ุฎูุงุฑุฒููุฉ ุงูุจุญุซ ูุงูููุชุฑุฉ (Smart Filtering)
ูุณุชุฎุฏู `useMemo` ูุถูุงู ุงูุณุฑุนุฉ ุงูุนุงููุฉ:
```typescript
const filteredNews = useMemo(() => {
    return news.filter(post => {
        // 1. ุจุญุซ ุจุงูุงุณู ุฃู ุงููุญุชูู
        const matchesSearch = post.title.includes(searchQuery);
        // 2. ููุชุฑุฉ ุจุงููุณู (Tag)
        const matchesTag = selectedTag ? post.tags.includes(selectedTag) : true;
        return matchesSearch && matchesTag;
    });
}, [news, searchQuery, selectedTag]);
```
ูุฐุง ุงูููุฏ ูุนูู ูู ุงููุชุตูุญ ูุญุธูุงู (Real-time).

### ๐ฑ ุนุงุฑุถ ุงูุตูุฑ (Image Viewer)
ูููู `ImageViewer` ูุณูุญ ุจู:
*   ุงูุชูุจูุฑ (Zoom) ุนูุฏ ุงูููุฑ ุงููุฒุฏูุฌ.
*   ุงูุชุญุฑูู (Pan) ุจุงูุณุญุจ ุนูุฏ ุงูุชูุจูุฑ.
*   ุงูุชูุฒูู (Download) ุจุฌูุฏุฉ ุนุงููุฉ.

---

## 7. ููู ุงูุซูุงุจุช (`constants.ts`)

ููุงุฐุง ูุณุชุฎุฏููุ
*   ูุชุฌููุน ูู ุงููุตูุต ูู ููุงู ูุงุญุฏ (`LABELS`). ูุฐุง ูุฌุนู ุชุฑุฌูุฉ ุงููููุน (ุนุฑุจู/ุฅูุฌููุฒู) ุณููุฉ ุฌุฏุงู. ุจุฏูุงู ูู ุงูุจุญุซ ูู ูุฆุงุช ุงููููุงุชุ ูุนุฏู ููุง ููุท.
*   ุงูููุชุงุญ ุงูุฑุฆูุณู ููุนููุฏ (`DEAN_MASTER_KEY`): ูู ูุฐุง ุงููุดุฑูุน ุงูุชุนูููู ูุถุนูุงู ููุงุ ููู ูู ุงูุฅูุชุงุฌ ุงูุญูููู ูุฌุจ ุฃู ูููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุท (ููุฐุง ูุง ูุนููุงู ูู ุงูุชุญุฏูุซ ุงูุฃุฎูุฑ ุญูุซ ุฃุตุจุญูุง ูุนุชูุฏ ุนูู `api.dean.login`).

---

## 8. ุดุฑุญ ูุฏูุฑ ุงูุชุทุจูู (`App.tsx`)

ูุฐุง ุงูููู ูู "ุงูุนููุฏ ุงูููุฑู" ุงูุฐู ูุฑุจุท ูู ุงูุตูุญุงุช ุจุจุนุถูุง.

### ๐ฆ ุงูุชูุฌูู (Routing)
ุจุฏูุงู ูู ููุชุจุฉ ุฎุงุฑุฌูุฉ ูุนูุฏุฉุ ุงุณุชุฎุฏููุง ูุธุงู ุชูุฌูู ุจุณูุท ูุณุฑูุน:
```typescript
const [currentPage, setCurrentPage] = useState('home');

const renderPage = () => {
    switch (currentPage) {
        case 'home': return <Home ... />;
        case 'admin': return isLoggedIn ? <Admin ... /> : <AccessDenied />;
        // ...
    }
}
```
ูุฐุง ูุฌุนู ุงูุชููู ุจูู ุงูุตูุญุงุช ูุญุธูุงู (Instant) ูุฃูู ูุง ูุนูุฏ ุชุญููู ุงูุตูุญุฉ.

### ๐ ุฏูุฑุฉ ุญูุงุฉ ุงูุชุทุจูู (App Lifecycle)
ุนูุฏ ุชุดุบูู ุงููููุน (`useEffect` ุงูุฃูู):
1.  `loadDataFromAPI()`: ูุฌูุจ ูู ุงููุญุชูู (ุฃุฎุจุงุฑุ ูุนุงููุงุชุ ุฅุนุฏุงุฏุงุช) ูุฑุฉ ูุงุญุฏุฉ.
2.  **ุงูุชุญูู ูู ุงูุฌูุณุฉ:**
    *   ูุชุญูู ูู `localStorage` ูู ููุฌุฏ ุชููู ููุนููุฏุ
    *   ุฅุฐุง ูุฌุฏุ ูุฑุณูู ููุณูุฑูุฑ (`api.deanVerify`) ููุชุฃูุฏ ูู ุตูุงุญูุชู.
    *   ุฅุฐุง ูุงู ุตุงูุญุงูุ ูุฏุฎู ุงููุณุชุฎุฏู ูุจุงุดุฑุฉ (`setIsDeanLoggedIn(true)`).

### ๐ก ุงูุญูุงูุฉ (Security State)
ูุญุชูุธ ุจุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู ูู ูุชุบูุฑุงุช `isLoggedIn` ู `isDeanLoggedIn`. ูุง ูููู ูููุณุชุฎุฏู ุงููุตูู ูุตูุญุฉ `Admin` ุฅูุง ุฅุฐุง ูุงูุช ูุฐู ุงููุชุบูุฑุงุช `true`.

---

## 9. ุดุฑุญ ุดุฑูุท ุงูุชููู (`components/Navbar.tsx`)

### ๐จ ุงูุชุตููู ุงูุฒุฌุงุฌู (Glassmorphism)
ูุงุญุธ ุงูููุฏ ุงูุฐู ูุบูุฑ ุดูู ุงูุดุฑูุท ุนูุฏ ุงูุชูุฑูุฑ:
```typescript
const showSolidNav = isScrolled || !hasHero;
// ุฅุฐุง ูุฒู ุงููุณุชุฎุฏู ููุฃุณููุ ูุบุทู ุงูุฎูููุฉ ููุถูู Blur
```

### ๐ฑ ุงููุงุฆูุฉ ุงููุชุฌุงูุจุฉ (Mobile Menu)
*   ูู ุงูุดุงุดุงุช ุงููุจูุฑุฉ (`md:flex`)ุ ูุนุฑุถ ุงูุฃุฒุฑุงุฑ ุจุฌุงูุจ ุจุนุถูุง.
*   ูู ุงูููุจุงูู (`md:hidden`)ุ ูุนุฑุถ ุฒุฑ ุงููุงุฆูุฉ (Hamburger Menu). ุนูุฏ ุงูุถุบุท ุนูููุ ุชุธูุฑ ูุงุฆูุฉ ูุงููุฉ `fixed inset-0` ุชุบุทู ุงูุดุงุดุฉ.

---

## 10. ุดุฑุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช (`server/prisma/schema.prisma`)

ูุฐุง ุงูููู ูุญุฏุฏ ุงูุฌุฏุงูู ูุงูุนูุงูุงุช.

### ุฌุฏุงูู ุงููุญุชูู:
*   `News`, `Event`, `Member`: ุฌุฏุงูู ุจุณูุทุฉ ูุชุฎุฒูู ุงูุจูุงูุงุช.
*   `tags String`: ูู SQLite ูุง ููุฌุฏ ูุตูููุงุช (Arrays)ุ ูุฐูู ูุฎุฒู ุงููุณูู ููุต `JSON` (ูุซูุงู `["Tech", "News"]`).

### ุฌุฏุงูู ุงูุฃูุงู (ุงูุฌุฏูุฏุฉ):
1.  `DeanConfig`: ูุฎุฒู ูููุฉ ุณุฑ ุงูุนููุฏ (ูุดูุฑุฉ ุจู `bcrypt`)ุ ูุณุคุงู ุงูุฃูุงูุ ูุงูุฑูุฒ ุงูุงุญุชูุงุทู. ูุฐุง ุงูุฌุฏูู ูุญุชูู ุนูู ุตู ูุงุญุฏ ููุท ูู ุงููุธุงู.
2.  `DeanSession`: ูุชุฐูุฑ ุฌูุงุฒ ุงูุนููุฏ (ูุซู "ุชุฐูุฑูู"). ุตุงูุญ ููุฏุฉ ุทูููุฉ (ุณูุฉ).
3.  `AccessKey`: ุงูููุงุชูุญ ุงูุชู ูููุฏูุง ุงูุนููุฏ ููุฃุนุถุงุก. ููุง ุชุงุฑูุฎ ุงูุชูุงุก ุตูุงุญูุฉ (`expiresAt`).
4.  `AdminSession`: ุฌูุณุฉ ุงููุณุคูู ุงูุนุงุฏู. ุตุงูุญุฉ ููุฏุฉ ูุตูุฑุฉ (30 ููู).

---

# ๐ ุงูุฎุงุชูุฉ ุงูููุงุฆูุฉ

ุจูุฐุง ูููู ูุฏ ุดุฑุญูุง ูู ูููุ ูู ุฏุงูุฉุ ููู ุณุทุฑ ุฌููุฑู ูู ูุธุงู "CSA Portal".
ูุฐุง ุงููุธุงู ููุณ ูุฌุฑุฏ ูููุนุ ุจู ูู ููุตุฉ ูุชูุงููุฉ ุฌุงูุฒุฉ ููุฅุทูุงูุ ูุตููุฉ ุจุฃุญุฏุซ ุงูุชูููุงุช ูุฃูุถู ุงูููุงุฑุณุงุช.

**ุญุธุงู ููููุงู ูู ุฅุทูุงู ุงูููุตุฉ!** ๐



